<!doctype html><html lang=zh-cn class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.101.0"><link rel=canonical type=text/html href=/docs/10.OS/%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F/><link rel=alternate type=application/rss+xml href=/docs/10.OS/%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F/index.xml><meta name=robots content="noindex, nofollow"><link rel="shortcut icon" href=/favicons/favicon.ico><link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/favicons/android-192x192.png sizes=192x192><title>文件系统 | Herbdocs</title><meta name=description content="Introduction
文件系统相关
"><meta property="og:title" content="文件系统"><meta property="og:description" content="Herb's blog"><meta property="og:type" content="website"><meta property="og:url" content="/docs/10.OS/%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F/"><meta property="og:site_name" content="Herbdocs"><meta itemprop=name content="文件系统"><meta itemprop=description content="Herb's blog"><meta name=twitter:card content="summary"><meta name=twitter:title content="文件系统"><meta name=twitter:description content="Herb's blog"><link rel=preload href=/scss/main.min.dcab2c3dae6e6fefb7672f19e4b612cc4e75ca208740f642aa2f1fe378478a8f.css as=style><link href=/scss/main.min.dcab2c3dae6e6fefb7672f19e4b612cc4e75ca208740f642aa2f1fe378478a8f.css rel=stylesheet integrity><script src=https://code.jquery.com/jquery-3.6.0.min.js integrity=sha384-vtXRMe3mGCbOeY7l30aIg8H9p3GdeSe4IFlP6G8JMa7o7lXvnz3GFKzPxzJdPfGK crossorigin=anonymous></script>
<script src=https://unpkg.com/lunr@2.3.9/lunr.min.js integrity=sha384-203J0SNzyqHby3iU6hzvzltrWi/M41wOP5Gu+BiJMz5nwKykbkUx8Kp7iti0Lpli crossorigin=anonymous></script>
<script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-00000000-0","auto"),ga("send","pageview"))</script><script async src=https://www.google-analytics.com/analytics.js></script></head><body class=td-section><header><nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar"><a class=navbar-brand href=/><span class=navbar-logo><img width=6% style=margin-bottom:1% src=/favicons/favicon.ico></span><span class=font-weight-bold>&nbsp;Herbdocs</span></a><div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar><ul class="navbar-nav mt-2 mt-lg-0"><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/about/><span>About</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class="nav-link active" href=/docs/><span class=active>Documentation</span></a></li><li class="nav-item dropdown mr-4 d-none d-lg-block"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>Chinese</a><div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=/en/>English</a></div></li></ul></div><div class="navbar-nav d-none d-lg-block"><input type=search class="form-control td-search-input" placeholder="&#xf002; 站内搜索…" aria-label=站内搜索… autocomplete=off></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main><div class=td-content><div class="pageinfo pageinfo-primary d-print-none"><p>这是本节的多页打印视图。
<a href=# onclick="return print(),!1">点击此处打印</a>.</p><p><a href=/docs/10.OS/%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F/>返回本页常规视图</a>.</p></div><h1 class=title>文件系统</h1><ul><li>1: <a href=#pg-2ee2ec2642eaef42de79f646b1afbde5>Linux文件系统-01设备</a></li></ul><div class=content><h1 id=introduction>Introduction</h1><p>文件系统相关</p></div></div><div class=td-content><h1 id=pg-2ee2ec2642eaef42de79f646b1afbde5>1 - Linux文件系统-01设备</h1><h1 id=linux文件系统>Linux文件系统</h1><h2 id=简介>简介</h2><p>Linux有多种文件系统，不同的文件系统支持不同的体系。文件系统是管理数据的，而存储数据的物理设备有硬盘、 U盘、 SD卡、 NAND FLASH、 NOR FLASH、网络存储设备等。不同的存储设备有不同的物理结构，因此就需要不同的文件系统去管理，比如管理 NAND FLASH 使用YAFFS 文件系统，管理硬盘/SD卡使用ext文件系统等。</p><h2 id=分类>分类</h2><p>Linux支持很多文件系统格式，常见文件系统类型：</p><p>ext2 ： 早期linux中常用的文件系统</p><p>ext3 ： ext2的升级版，带日志功能</p><p>RAMFS ： 内存文件系统，速度很快</p><p>NFS ： 网络文件系统，由SUN发明，主要用于远程文件共享</p><p>MS-DOS ： MS-DOS文件系统</p><p>VFAT ： Windows 95/98 操作系统采用的文件系统</p><p>FAT ： Windows XP 操作系统采用的文件系统</p><p>NTFS： Windows NT/XP 操作系统采用的文件系统</p><p>HPFS ： OS/2 操作系统采用的文件系统</p><p>PROC : 虚拟的进程文件系统</p><p>ISO9660 ： 大部分光盘所采用的文件系统</p><p>ufsSun : OS 所采用的文件系统</p><p>NCPFS ： Novell 服务器所采用的文件系统</p><p>SMBFS ： Samba 的共享文件系统</p><p>XFS ： 由SGI开发的先进的日志文件系统，支持超大容量文件</p><p>JFS ：IBM的AIX使用的日志文件系统</p><p>ReiserFS : 基于平衡树结构的文件系统</p><p>udf: 可擦写的数据光盘文件系统</p><p>大体可分以下几类：</p><h3 id=磁盘文件系统>磁盘文件系统</h3><p>指本地主机中实际可以访问到的文件系统，包括硬盘、CD-ROM、DVD、USB存储器、磁盘阵列等。常见格式有：Ext2、Ext3、Ext4、JFS、NTFS、UFS、FAT、FAT16、FAT32等</p><h3 id=网络文件系统>网络文件系统</h3><p>是可以远程访问的文件系统，在服务器端仍是本地磁盘文件系统，客户机通过网络远程访问数据。 常见格式有：NFS、Samba等</p><h3 id=专有-虚拟文件系统>专有/虚拟文件系统</h3><p>不驻留在磁盘上的文件系统。常见格式有：TMPFS、PROCFS等。</p><h1 id=磁盘文件系统-1>磁盘文件系统</h1><p>目前Ext4（Extended File sytem，扩展文件系统）是广泛使用的一种磁盘文件系统格式。是在Ext3基础上发展起来的，对有效性保护、数据完整性、数据访问速度、向下兼容性等方面做了改进，其特点是日志文件系统：可将整个磁盘的写入动作完整地记录在磁盘的某个区域上，以便在必要时回溯追踪。</p><p>磁盘是一种计算机的外部存储器设备，由一个或多个覆盖有磁性材料的铝制或玻璃制的碟片组成，用来存储用户的信息，这种信息可以反复地被读取和改写。磁盘主要分为一下几类：</p><h2 id=ide磁盘>IDE磁盘</h2><p>Integrated Drive Electronics，价格低廉，兼容性强，性价比高，但是数据传输慢，不支持热插拔等。</p><h2 id=scsi磁盘>SCSI磁盘</h2><p>Small Computer System Interface，传输速率高，读写性能好，运行稳定，可连接多个设备，支持热插拔，占用CPU低，但是价格相对较贵，一般用于工作站或服务器上。</p><h2 id=sata磁盘>SATA磁盘</h2><p>Serial Advanced Technology Attachment，结构简单、支持热插拔。</p><h1 id=磁盘分区>磁盘分区</h1><p>为了便于管理和使用，通常会对磁盘进行分区。</p><p><img src=../imgs/file_sys_01_1.png alt=file_sys_01_1.png></p><h2 id=主分区>主分区</h2><p>必须要存在的分区，最多能创建4个，最少1个，编号只能是1 - 4 （比如sda1、sda2、sda3、sda4），可以直接格式化，然后安装系统直接存放文件。</p><h2 id=扩展分区>扩展分区</h2><p>会占用主分区位置，即主分区+扩展分区之和最多4个。相当于独立的磁盘，有独立的分区表，但不能独立的存放数据</p><h2 id=逻辑分区>逻辑分区</h2><p>扩展分区不能直接存放数据，必须经过再次分割成为逻辑分区后才能存放数据。一个扩展分区中的逻辑分区可以有任意多个，编号只能从5开始。</p><h2 id=交换分区>交换分区</h2><p>安装系统时建立的，一块特殊的硬盘空间，当实际内存不够用时，操作系统会从内存中取出部分暂时不用的数据，放在swap中，为当前程序腾出足够的内存空间。swap不会使用到目录树的挂载，无需指定挂载点（即cd无法进入）。</p><h1 id=设备>设备</h1><p>设备接入系统后都是以文件的形式存在</p><h2 id=设备文件名称>设备文件名称</h2><table><thead><tr><th style=text-align:left>设备类型</th><th style=text-align:left>文件名称</th></tr></thead><tbody><tr><td style=text-align:left>SATA/SAS/USB</td><td style=text-align:left>/dev/sda,/dev/sdb （s= SATA, d=DISK a=第几块）</td></tr><tr><td style=text-align:left>IDE</td><td style=text-align:left>/dev/hd0,/dev/hd1 （h= hard）</td></tr><tr><td style=text-align:left>VIRTIO-BLOCK</td><td style=text-align:left>/dev/vda,/dev/vdb （v=virtio）虚拟io输出</td></tr><tr><td style=text-align:left>M2（SSD）</td><td style=text-align:left>/dev/nvme0,/dev/nvme1（nvme=m2）</td></tr><tr><td style=text-align:left>SD/MMC/EMMC(卡)</td><td style=text-align:left>/dev/mmcblk0,/dev/mmcblk1（mmcblk=mmc卡 ）</td></tr><tr><td style=text-align:left>光驱</td><td style=text-align:left>/cdrom,/dev/sr0,/dev/sr1</td></tr></tbody></table><h2 id=设备命令规则>设备命令规则</h2><style>.td-content .highlight{margin-top:.5rem;margin-bottom:.5rem}.code-collapse1{overflow-y:auto;max-height:500px;overflow-x:auto;max-width:100%}</style><div class=code-collapse1><div class=highlight><div style=background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">7
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-plain data-lang=plain><span style=display:flex><span>/dev/sd  a  5
</span></span><span style=display:flex><span>-1   -2 -3 -4
</span></span><span style=display:flex><span>分别以数字代替上述位置
</span></span><span style=display:flex><span>-1：硬件设备所在目录
</span></span><span style=display:flex><span>-2：设备，sd表示SCSI设备，hd表示IDE设备
</span></span><span style=display:flex><span>-3：磁盘的顺序号以字母a、b、c...表示
</span></span><span style=display:flex><span>-4：分区的顺序号，以1、2、3...表示
</span></span></code></pre></td></tr></table></div></div></div><p>举例：<style>.td-content .highlight{margin-top:.5rem;margin-bottom:.5rem}.code-collapse1{overflow-y:auto;max-height:500px;overflow-x:auto;max-width:100%}</style><div class=code-collapse1><div class=highlight><div style=background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-plain data-lang=plain><span style=display:flex><span>/dev/sda  # 表示第一个SCSI硬盘
</span></span><span style=display:flex><span>/dev/sda1 # 表示第一个SCSI硬盘的第一个主分区
</span></span><span style=display:flex><span>/dev/sdb3 # 表示第二个SCSI硬盘的第3个主分区
</span></span><span style=display:flex><span>/dev/hdb  # 表示第二个IDE硬盘的第2个主分区
</span></span></code></pre></td></tr></table></div></div></div></p><h1 id=文件系统结构>文件系统结构</h1><p>除了swap分区外，其他主分区、扩展分区、逻辑分区都是在根分区（/）目录上操作的。Linux文件系统是一个树形的分层组织结构，根作为整个文件系统的唯一起点，其他所有目录都从该点出发。根分区下的一级目录有：</p><ul><li>bin</li><li>boot</li><li>dev</li><li>etc</li><li>home</li><li>lib</li><li>mnt</li><li>opt</li><li>proc</li><li>root</li><li>sbin</li><li>srv</li><li>sys</li><li>tmp</li><li>usr</li><li>var</li></ul><h1 id=操作命令>操作命令</h1><h2 id=fdisk>fdisk</h2><p>磁盘分区表操作工具。命令格式：</p><style>.td-content .highlight{margin-top:.5rem;margin-bottom:.5rem}.code-collapse1{overflow-y:auto;max-height:500px;overflow-x:auto;max-width:100%}</style><div class=code-collapse1><div class=highlight><div style=background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-shell data-lang=shell><span style=display:flex><span>fdisk <span style=color:#000>[</span>-l<span style=color:#000>]</span>
</span></span></code></pre></td></tr></table></div></div></div><p>常用选项：<style>.td-content .highlight{margin-top:.5rem;margin-bottom:.5rem}.code-collapse1{overflow-y:auto;max-height:500px;overflow-x:auto;max-width:100%}</style><div class=code-collapse1><div class=highlight><div style=background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-shell data-lang=shell><span style=display:flex><span>-l: 输出后面接的装置所有的分区内容。
</span></span></code></pre></td></tr></table></div></div></div></p><h2 id=file>file</h2><p>file命令用于辨识文件类型。命令的格式为：</p><style>.td-content .highlight{margin-top:.5rem;margin-bottom:.5rem}.code-collapse1{overflow-y:auto;max-height:500px;overflow-x:auto;max-width:100%}</style><div class=code-collapse1><div class=highlight><div style=background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-shell data-lang=shell><span style=display:flex><span>file <span style=color:#000>[</span>-b -c -L -v -z<span style=color:#000>][</span>-f &lt;名称文件&gt;<span style=color:#000>][</span>-m &lt;魔法数字文件&gt;...<span style=color:#000>][</span>文件或目录...<span style=color:#000>]</span>
</span></span></code></pre></td></tr></table></div></div></div><p>常用选项：<style>.td-content .highlight{margin-top:.5rem;margin-bottom:.5rem}.code-collapse1{overflow-y:auto;max-height:500px;overflow-x:auto;max-width:100%}</style><div class=code-collapse1><div class=highlight><div style=background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">8
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-shell data-lang=shell><span style=display:flex><span>-b: 列出辨识结果时不显示文件名称
</span></span><span style=display:flex><span>-c: 详细列出指令执行过程
</span></span><span style=display:flex><span>-f &lt;名称文件&gt;: 执行名称文件
</span></span><span style=display:flex><span>-L: 直接显示符号链接所指向的文件的类别
</span></span><span style=display:flex><span>-m &lt;魔法数字文件&gt;: 执行魔法数字文件
</span></span><span style=display:flex><span>-v: 显示版本信息
</span></span><span style=display:flex><span>-z: 尝试解读压缩文件内容
</span></span><span style=display:flex><span><span style=color:#000>[</span>文件或目录...<span style=color:#000>]</span>: 要确定类型的文件列表，多个文件之间以空格隔开，也可以使用shell通配符匹配
</span></span></code></pre></td></tr></table></div></div></div></p><h2 id=ln>ln</h2><p>link files的缩写，是为某一个文件在另外一个位置建立一个同步的链接。</p><p>命令格式：</p><style>.td-content .highlight{margin-top:.5rem;margin-bottom:.5rem}.code-collapse1{overflow-y:auto;max-height:500px;overflow-x:auto;max-width:100%}</style><div class=code-collapse1><div class=highlight><div style=background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-shell data-lang=shell><span style=display:flex><span>ln <span style=color:#000>[</span>参数<span style=color:#000>][</span>源文件或目录<span style=color:#000>][</span>目标文件或目录<span style=color:#000>]</span>
</span></span></code></pre></td></tr></table></div></div></div><p>常用选项：<style>.td-content .highlight{margin-top:.5rem;margin-bottom:.5rem}.code-collapse1{overflow-y:auto;max-height:500px;overflow-x:auto;max-width:100%}</style><div class=code-collapse1><div class=highlight><div style=background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">7
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-shell data-lang=shell><span style=display:flex><span>-b: 删除、覆盖之前建立的链接
</span></span><span style=display:flex><span>-d: 允许超级用户制作目录的硬链接
</span></span><span style=display:flex><span>-f: 强制执行
</span></span><span style=display:flex><span>-i: 交互模式，文件存在则提示是否覆盖
</span></span><span style=display:flex><span>-n: 把符号连接视为一般目录
</span></span><span style=display:flex><span>-s: 软链接<span style=color:#000>(</span>符号链接<span style=color:#000>)</span>
</span></span><span style=display:flex><span>-v: 显示详细处理过程
</span></span></code></pre></td></tr></table></div></div></div></p><h2 id=mount>mount</h2><h3 id=挂载本地设备>挂载本地设备</h3><p>对分区/dev/sda3的操作命令：</p><p>1、挂载：mount /dev/sda1 /mnt/asd，这样挂载分区到文件系统上，才能看/mnt/asd里的东西。</p><p>2、查看：ls -hl /mnt/asd</p><p>3、卸载：umount /dev/sda1</p><p>文件系统：指定要卸载的文件系统或者其对应的设备文件名</p><p>(1)、通过设备名卸载：umount -v /dev/sda1</p><p>(2)、通过挂载点卸载：umount -v /mnt/mymount/</p><h3 id=挂载网络设备>挂载网络设备</h3><p>挂载 NFS 服务作为网络磁盘：</p><style>.td-content .highlight{margin-top:.5rem;margin-bottom:.5rem}.code-collapse1{overflow-y:auto;max-height:500px;overflow-x:auto;max-width:100%}</style><div class=code-collapse1><div class=highlight><div style=background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-plain data-lang=plain><span style=display:flex><span>sudo mount -t nfs &lt;NFS_server_IP&gt;:&lt;NFS_share_path&gt; &lt;mount_point&gt;
</span></span><span style=display:flex><span># sudo mount -t nfs 192.168.1.100:/nfs/share /mnt/nfs
</span></span></code></pre></td></tr></table></div></div></div><p>挂载后，可以在 <code>/mnt/nfs</code> 目录下查看 NFS 服务器上的文件。
要在系统启动时自动挂载 NFS，可以将以上命令添加到 <code>/etc/fstab</code> 文件中，例如：</p><style>.td-content .highlight{margin-top:.5rem;margin-bottom:.5rem}.code-collapse1{overflow-y:auto;max-height:500px;overflow-x:auto;max-width:100%}</style><div class=code-collapse1><div class=highlight><div style=background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-plain data-lang=plain><span style=display:flex><span>192.168.1.100:/nfs/share /mnt/nfs nfs defaults 0 0
</span></span></code></pre></td></tr></table></div></div></div><p>注意：在生产环境中，使用前需要调整访问安全性的设置，并确保挂载的代码的正确性。</p><h2 id=设备查看>设备查看</h2><table><thead><tr><th style=text-align:left>命令</th><th style=text-align:left>作用</th></tr></thead><tbody><tr><td style=text-align:left>fdisk -l</td><td style=text-align:left>查看磁盘分区情况</td></tr><tr><td style=text-align:left>lsblk</td><td style=text-align:left>设备使用情况</td></tr><tr><td style=text-align:left>blkid</td><td style=text-align:left>设备管理方式及设备ID</td></tr><tr><td style=text-align:left>df</td><td style=text-align:left>查看正在被系统挂载的设备</td></tr><tr><td style=text-align:left>cat /proc/partitions</td><td style=text-align:left>查看系统识别设备</td></tr></tbody></table><h1 id=reference>Reference</h1><p><a href=https://docs.aws.amazon.com/zh_cn/AWSEC2/latest/UserGuide/device_naming.html>https://docs.aws.amazon.com/zh_cn/AWSEC2/latest/UserGuide/device_naming.html</a></p><p><a href="https://blog.csdn.net/qq_43114229/article/details/120826140?utm_medium=distribute.pc_relevant.none-task-blog-2~default~baidujs_baidulandingword~default-1-120826140-blog-104561836.235%5Ev27%5Epc_relevant_3mothn_strategy_recovery&spm=1001.2101.3001.4242.2&utm_relevant_index=4">Linux存储设备管理</a></p><p><a href=https://blog.51cto.com/u_15467009/5575719>https://blog.51cto.com/u_15467009/5575719</a></p></div></main></div></div><footer class="bg-dark py-5 row d-print-none"><div class="container-fluid mx-sm-5"><div class=row><div class="col-6 col-sm-4 text-xs-center order-sm-2"></div><div class="col-6 col-sm-4 text-right text-xs-center order-sm-3"></div><div class="col-12 col-sm-4 text-center py-2 order-sm-2"><small class=text-white>&copy; 2023 The Herb 保留所有权利</small>
<small class=ml-1><a href=# target=_blank rel=noopener>隐私政策</a></small><p class=mt-2><a href=/about/>Herbdocs</a></p></div></div></div></footer></div><script src=https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js integrity=sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.min.js integrity="sha512-UR25UO94eTnCVwjbXozyeVd6ZqpaAE9naiEUBK/A+QDbfSTQFhPGj5lOR6d8tsgbBk84Ggb5A3EkjsOgPRPcKA==" crossorigin=anonymous></script>
<script src=/js/tabpane-persist.js></script>
<script src=/js/main.min.91798a335c881f1b6b805085ba4aa22d1dbd2b0b18d105d05189fa104ddae350.js integrity="sha256-kXmKM1yIHxtrgFCFukqiLR29KwsY0QXQUYn6EE3a41A=" crossorigin=anonymous></script></body></html>